<!-- Contact Section-->
<section class="page-section" id="contact">




    <!-- Avisos -->
    <div class="container">
        <div class="row">

            <div [hidden]="!this.srvDatos.errorMsg" class="alert alert-danger mt-4" role="alert">
                <h3>Ha ocurrido un error</h3>
                <p>{{this.srvDatos.errorMsg}}</p>
            </div>

        </div>
    </div>




    <div class="container">
        <!-- Contact Section Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Valida tus datos</h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
            <div class="divider-custom-line"></div>
            <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
            <div class="divider-custom-line"></div>
        </div>
        <!-- Contact Section Form-->
        <div class="row justify-content-center">


            <div class="col-lg-8 col-xl-7">
                <form [formGroup]="registerForm" (ngSubmit)="onSubmit()"
                    class="bg-light p-2   border border-2 rounded-1" autocomplete="off">

                    <div class="row">

                        <!-- nomApe -->
                        <div class="col-md-12 col-xs-12">
                            <div class="form-floating mb-3">
                                <input class="ps-1 form-control" id="nomApe" type="text" disabled
                                    [value]="trabajador.nombre+' '+trabajador.apellidos" />
                                <label for="nomApe">Nombre</label>
                            </div>
                        </div>

                    </div>



                    <div class="row">

                        <!-- telefono -->
                        <div class="col-md-4 col-xs-12">
                            <div class="form-floating mb-3">
                                <input class="ps-1 form-control" id="telefono" type="text" [value]="trabajador.telefono"
                                    disabled />
                                <label for="telefono">Teléfono</label>
                            </div>
                        </div>


                        <!-- email -->
                        <div class="col-md-8 col-xs-12">
                            <div class="form-floating mb-3">
                                <input id="email" class="ps-1 form-control" type="text" [value]="trabajador.email" disabled />
                                <label for="email">eMail</label>
                            </div>
                        </div>

                    </div>

                    <!-- direccion -->
                    <div class="col-md-12 col-xs-12">
                        <div class="form-floating mb-3">
                            <input formControlName="direccion" class="ps-1 form-control" type="text" placeholder=" "
                                [ngClass]="{ 'is-invalid': enviado && f['direccion'].errors }" />
                            <label for="direccion">Dirección</label>
                            <div *ngIf="enviado && f['direccion'].errors" class="invalid-feedback">
                                <div *ngIf="f['direccion'].errors['required']">Dirección necesaria</div>
                            </div>
                        </div>
                    </div>



                    <div class="row">


                        <!-- cp1 -->
                        <div class="col-md-4 col-xs-12">
                            <div class="form-floating mb-3">
                                <input formControlName="cp1" class="ps-1 form-control" type="text" placeholder=" "
                                    maxlength="5" [ngClass]="{ 'is-invalid': enviado && f['cp1'].errors }"
                                    (keyup)="buscaPob()" />
                                <label for="cp1">CP</label>
                                <div *ngIf="enviado && f['cp1'].errors" class="invalid-feedback">
                                    <div *ngIf="f['cp1'].errors['required']">Obligatorio</div>
                                    <div *ngIf="f['cp1'].errors['noExiste']">No encontrado</div>
                                </div>
                            </div>
                        </div>


                        <!-- poblacion 
                        <div class="col-md-8 col-xs-12">
                            <div class="form-floating mb-3">
                                <select class="form-select" id="poblacion" name="poblacion">
                                    <option value="es">Español</option>
                                    <option value="ca">Català</option>
                                </select>
                                <div class="invalid-feedback" 
                                    data-sb-feedback="poblacion:required">poblacion obligatoria.
                                </div>
                            </div>
                        </div>
                        -->


                        <!-- poblacion -->
                        <div class="col-md-8 col-xs-12">
                            <div class="form-floating mb-3">
                                <input formControlName="poblacion" class="ps-1 form-control" type="text" placeholder=" "
                                    [ngClass]="{ 'is-invalid': enviado && f['poblacion'].errors }" />
                                <label for="poblacion">Poblacion</label>
                                <div class="invalid-feedback" data-sb-feedback="name:required">obligatorio.</div>
                            </div>
                        </div>



                    </div>



                    <div class="row">


                        <!-- cp2 -->
                        <div class="col-md-4 col-xs-12">
                            <div class="form-floating mb-3">
                                <input formControlName="cp2" class="ps-1 form-control" type="text" placeholder=" "
                                    maxlength="5" [ngClass]="{ 'is-invalid': enviado && f['cp2'].errors }" />
                                <label for="cp2">CP</label>
                                <div *ngIf="enviado && f['cp2'].errors" class="invalid-feedback">
                                    <div *ngIf="f['cp2'].errors['required']">CP otra vez...</div>
                                    <div *ngIf="f['cp2'].errors['matching']">No coinciden</div>
                                </div>
                            </div>
                            <small><i>Introduce de nuevo tu CP</i></small>
                        </div>


                        <!-- provincia -->
                        <div class="col-md-8 col-xs-12">
                            <div class="form-floating mb-3">
                                <input formControlName="provincia" class="ps-1 form-control" type="text" readonly />
                                <label for="name">Provincia</label>
                            </div>
                        </div>


                    </div>



                    <div class="d-none" id="submitSuccessMessage">
                        <div class="text-center mb-3">
                            <div class="fw-bolder">Form submission successful!</div>
                            To activate this form, sign up at
                            <br />
                            <a href="xxx">Esto es un link</a>
                        </div>
                    </div>
                    <div class="d-none" id="submitErrorMessage">
                        <div class="text-center text-danger mb-3">Error sending message!</div>
                    </div>

                    <!-- Submit Button-->
                    <button [disabled]="loading" class="btn btn-primary btn-xl" id="submitButton" type="submit"> Enviar
                        <span *ngIf="loading">
                            <i class="fa fa-spinner fa-spin ms-1"></i>
                        </span>
                    </button>

                </form>
            </div>
        </div>
    </div>
</section>